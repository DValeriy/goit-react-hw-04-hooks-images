(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__IqgJy",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2rKzc"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AFek",Modal:"Modal_Modal__bSOUx"}},28:function(e,t,a){e.exports={App:"App_App__3IyuE",Searchbar:"App_Searchbar__2_ooq"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1tGcm"}},31:function(e,t,a){e.exports={PreLoader:"Loader_PreLoader__3yR_s"}},32:function(e,t,a){e.exports={Button:"Button_Button__1P09s"}},38:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3wn9a",SearchForm:"Searchbar_SearchForm__mOCjS",SearchFormButton:"Searchbar_SearchFormButton__22ueh",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3KC4y",SearchFormInput:"Searchbar_SearchFormInput__1sLwb"}},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(27),o=a.n(c),l=(a(38),a(5)),s=a.n(l),u=a(18),i=a(12),m=a(4),h=a(28),b=a.n(h),j=a(13),d=a.n(j),p=a(6),f=a.n(p),g=a(1),O=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(g.jsx)("header",{className:f.a.Searchbar,children:Object(g.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),t({querry:c})},children:[Object(g.jsx)("button",{type:"submit",className:f.a.SearchFormButton,children:Object(g.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c})]})})},_=a(8),y=a(33),x=a(29),S=a.n(x),v=a(16),I=a.n(v),w=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.handleImgClick;return Object(g.jsx)("li",{className:I.a.ImageGalleryItem,onClick:function(e){return r(a)},children:Object(g.jsx)("img",{src:t,alt:a,className:I.a.ImageGalleryItemImage})})},k=["id"],F=function(e){var t=e.gallery,a=e.handleImgClick,r=t.map((function(e){var t=e.id,r=Object(y.a)(e,k);return Object(g.jsx)(w,Object(_.a)(Object(_.a)({},r),{},{handleImgClick:a}),t)}));return Object(g.jsx)("ul",{className:S.a.ImageGallery,children:r})},L=a(30),N=a.n(L),C=a(31),G=a.n(C),B=function(){return Object(g.jsx)(N.a,{className:G.a.PreLoader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},M=a(17),E=a.n(M),q=function(e){var t=e.handleModalClose,a=e.imgUrl,n=function(e){"Escape"===e.code&&t()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[]),Object(g.jsx)("div",{className:E.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},onKeyDown:n,children:Object(g.jsx)("div",{className:E.a.Modal,children:Object(g.jsx)("img",{src:a,alt:a})})})},A=a(32),U=a.n(A),P=function(e){var t=e.handleLoadMore;return Object(g.jsx)("button",{onClick:function(){t()},className:U.a.Button,children:"Load More"})},R=a(14),T=a.n(R),J=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,n,c,o,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"cat",a=l.length>1&&void 0!==l[1]?l[1]:1,T.a.defaults.baseURL="https://pixabay.com/api/",r={per_page:12,orientation:"horizontal",image_type:"photo",key:"23806405-99649229521d5b9443986f071",page:a,q:t},e.prev=4,e.next=7,T()("?",{params:Object(_.a)({},r)});case 7:return n=e.sent,c=n.data.hits,o=n.data.total,e.abrupt("return",{gallery:c,galleryTotal:o});case 13:throw e.prev=13,e.t0=e.catch(4),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.useState)(0),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),l=o[0],h=o[1],j=Object(r.useState)(""),p=Object(m.a)(j,2),f=p[0],_=p[1],y=Object(r.useState)(1),x=Object(m.a)(y,2),S=x[0],v=x[1],I=Object(r.useState)(""),w=Object(m.a)(I,2),k=w[0],L=w[1],N=Object(r.useState)(!1),C=Object(m.a)(N,2),G=C[0],M=C[1],E=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,J(f,S);case 4:t=e.sent,a=t.gallery,r=t.galleryTotal,a&&a.length?(n(r),h([].concat(Object(u.a)(l),Object(u.a)(a))),M(!1),1!==S&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})):a&&0===a.length&&(d.a.Notify.warning("No result for your request!"),_(""),v(1),M(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),d.a.Notify.failure(e.t0.message),M(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){f&&E()}),[f,S]);var A=a-l.length;return Object(g.jsxs)("div",{className:b.a.App,children:[Object(g.jsx)(O,{onSubmit:function(e){var t=e.querry;_(t),h([]),v(1)}}),!!l.length&&Object(g.jsx)(F,{gallery:l,handleImgClick:function(e){L(e)}}),G&&Object(g.jsx)(B,{}),!G&&!!l.length&&A&&Object(g.jsx)(P,{handleLoadMore:function(){v(S+1)}}),k&&Object(g.jsx)(q,{imgUrl:k,handleModalClose:function(){L("")}})]})};o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(K,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.e2ac847d.chunk.js.map