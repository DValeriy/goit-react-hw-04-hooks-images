{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/api.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","querry","handleChange","value","target","setState","cbOnSubmit","e","preventDefault","onSubmit","props","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","query","Component","ImageGalleryItem","webformatURL","largeImageURL","handleImgClick","onClick","src","alt","ImageGalleryItemImage","ImageGallery","gallery","elements","map","id","Loader","PreLoader","color","height","width","timeout","Modal","cbOnClick","handleModalClose","cbOnKeyDown","event","code","window","addEventListener","removeEventListener","imgUrl","Overlay","onKeyDown","Button","handleLoadMore","getImgRequest","a","page","axios","defaults","baseURL","searchParams","per_page","orientation","image_type","key","process","q","params","response","data","hits","galleryTotal","total","Notiflix","Notify","failure","App","galerySize","galleryImg","isShowModal","isShowLoader","togglePreloader","prev","handleBtnLoadMore","loadImg","length","scrollTo","top","document","documentElement","scrollHeight","behavior","warning","prevProps","prevState","difTotalandGallery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a079eb5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2P4OQ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1v0BW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1hWUU\",\"Modal\":\"Modal_Modal__g8Juh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ndVx\",\"Searchbar\":\"App_Searchbar__1l1s1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jeGcT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PreLoader\":\"Loader_PreLoader__31KGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3jLt4\"};","import s from \"./Searchbar.module.css\";\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    querry: \"\",\r\n  };\r\n  handleChange = ({ target }) => {\r\n    const { value } = target;\r\n    this.setState({ querry: value });\r\n  };\r\n  cbOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.state);\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.cbOnSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, handleImgClick }) => {\r\n  const cbOnClick = (e) => handleImgClick(largeImageURL);\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={cbOnClick}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ gallery, handleImgClick }) => {\r\n  const elements = gallery.map(({ id, ...props }) => {\r\n    return (\r\n      <ImageGalleryItem key={id} {...props} handleImgClick={handleImgClick} />\r\n    );\r\n  });\r\n  return <ul className={s.ImageGallery}>{elements}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PreLoader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <PreLoader\r\n      className={s.PreLoader}\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n};\r\nexport default Loader;\r\n","import s from \"./Modal.module.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n  cbOnClick = (e) => {\r\n    const { handleModalClose } = this.props;\r\n    handleModalClose();\r\n  };\r\n  cbOnKeyDown = (event) => {\r\n    const { handleModalClose } = this.props;\r\n    // if (event.keyCode === 27) handleModalClose();\r\n    if (event.code === \"Escape\") handleModalClose();\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.cbOnKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.cbOnKeyDown);\r\n  }\r\n  render() {\r\n    const { imgUrl } = this.props;\r\n    return (\r\n      <div\r\n        className={s.Overlay}\r\n        onClick={this.cbOnClick}\r\n        onKeyDown={this.cbOnKeyDown}\r\n      >\r\n        <div className={s.Modal}>\r\n          <img src={imgUrl} alt={imgUrl} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  imgUrl: PropTypes.string.isRequired,\r\n  handleModalClose: PropTypes.func.isRequired,\r\n};\r\nexport default Modal;\r\n","import s from \"./Button.module.css\";\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ handleLoadMore }) => {\r\n  const cbOnClick = () => {\r\n    handleLoadMore();\r\n  };\r\n  return (\r\n    <button onClick={cbOnClick} className={s.Button}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\nimport Notiflix from \"notiflix\";\r\n\r\nexport const getImgRequest = async (querry = \"cat\", page = 1) => {\r\n  axios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n  const searchParams = {\r\n    per_page: 12,\r\n    orientation: \"horizontal\",\r\n    image_type: \"photo\",\r\n    key: process.env.REACT_APP_API_KEY,\r\n    page: page,\r\n    q: querry,\r\n  };\r\n  try {\r\n    const response = await axios(`?`, { params: { ...searchParams } });\r\n    const gallery = response.data.hits;\r\n    const galleryTotal = response.data.total;\r\n    return { gallery, galleryTotal };\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(error);\r\n    return false;\r\n  }\r\n};\r\n","import s from \"./App.module.css\";\n\nimport { Component } from \"react\";\nimport Notiflix from \"notiflix\";\n\nimport Searchbar from \"../Searchbar/\";\nimport ImageGallery from \"../ImageGallery/\";\nimport Loader from \"../Loader\";\nimport Modal from \"../Modal\";\nimport Button from \"../Button\";\nimport { getImgRequest } from \"../../services/api\";\n\nclass App extends Component {\n  state = {\n    galerySize: 0,\n    galleryImg: [],\n    isShowModal: false,\n    isShowLoader: false,\n    querry: \"\",\n    // error: false,\n    page: 1,\n    imgUrl: \"\",\n  };\n  onSubmit = ({ querry }) => {\n    this.setState({ querry, page: 1 });\n  };\n  togglePreloader = () => {\n    this.setState((prev) => ({ isShowLoader: !prev.isShowLoader }));\n  };\n\n  handleBtnLoadMore = () => {\n    this.setState((prev) => ({ page: prev.page + 1 }));\n  };\n  handleImgClick = (largeImageURL) => {\n    this.setState({\n      isShowModal: !this.state.isShowModal,\n      imgUrl: largeImageURL,\n    });\n  };\n  handleModalClose = () => {\n    this.setState({ isShowModal: !this.state.isShowModal });\n  };\n  loadImg = async () => {\n    const { querry, page, galleryImg } = this.state;\n\n    this.togglePreloader();\n\n    const { gallery, galleryTotal } = await getImgRequest(querry, page);\n    if (gallery && gallery.length) {\n      this.setState((prev) => ({\n        galerySize: galleryTotal,\n        galleryImg: [...prev.galleryImg, ...gallery],\n      }));\n      this.togglePreloader();\n      if (page !== 1)\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n    } else if (gallery && gallery.length === 0) {\n      Notiflix.Notify.warning(\"No result for your request!\");\n      return;\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { querry, page, galleryImg } = this.state;\n    if (prevState.querry !== querry) {\n      this.setState({ galleryImg: [], page: 1 });\n      this.loadImg();\n    }\n    if (prevState.page !== page && page !== 1) {\n      this.loadImg();\n      return;\n    }\n  }\n\n  render() {\n    const { galleryImg, imgUrl, isShowModal, isShowLoader, galerySize } =\n      this.state;\n    const difTotalandGallery = galerySize - galleryImg.length;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery\n          gallery={galleryImg}\n          handleImgClick={this.handleImgClick}\n        />\n        {isShowLoader && <Loader />}\n        {!isShowLoader && !!galleryImg.length && difTotalandGallery && (\n          <Button handleLoadMore={this.handleBtnLoadMore} />\n        )}\n        {isShowModal && (\n          <Modal imgUrl={imgUrl} handleModalClose={this.handleModalClose} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/\";\nimport axios from \"axios\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ppc0\",\"SearchForm\":\"Searchbar_SearchForm__UVQrw\",\"SearchFormButton\":\"Searchbar_SearchFormButton__32JVO\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__secKU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2ndiJ\"};"],"sourceRoot":""}