(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__IqgJy",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2rKzc"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AFek",Modal:"Modal_Modal__bSOUx"}},28:function(e,t,a){e.exports={App:"App_App__3IyuE",Searchbar:"App_Searchbar__2_ooq"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1tGcm"}},31:function(e,t,a){e.exports={PreLoader:"Loader_PreLoader__3yR_s"}},32:function(e,t,a){e.exports={Button:"Button_Button__1P09s"}},38:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3wn9a",SearchForm:"Searchbar_SearchForm__mOCjS",SearchFormButton:"Searchbar_SearchFormButton__22ueh",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3KC4y",SearchFormInput:"Searchbar_SearchFormInput__1sLwb"}},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(27),o=a.n(c),l=(a(38),a(5)),s=a.n(l),u=a(18),i=a(12),m=a(4),b=a(28),h=a.n(b),j=a(13),d=a.n(j),p=a(6),g=a.n(p),f=a(1),O=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)("header",{className:g.a.Searchbar,children:Object(f.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t({querry:c})},children:[Object(f.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(f.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c})]})})},_=a(8),y=a(33),x=a(29),S=a.n(x),v=a(16),I=a.n(v),w=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.handleImgClick;return console.log("webformatURL"),Object(f.jsx)("li",{className:I.a.ImageGalleryItem,onClick:function(e){return r(a)},children:Object(f.jsx)("img",{src:t,alt:a,className:I.a.ImageGalleryItemImage})})},k=["id"],F=function(e){var t=e.gallery,a=e.handleImgClick,r=t.map((function(e){var t=e.id,r=Object(y.a)(e,k);return Object(f.jsx)(w,Object(_.a)(Object(_.a)({},r),{},{handleImgClick:a}),t)}));return Object(f.jsx)("ul",{className:S.a.ImageGallery,children:r})},L=Object(r.memo)(F),N=a(30),C=a.n(N),G=a(31),B=a.n(G),M=function(){return Object(f.jsx)(C.a,{className:B.a.PreLoader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},E=a(17),U=a.n(E),q=function(e){var t=e.handleModalClose,a=e.imgUrl,n=function(e){"Escape"===e.code&&t()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[n]),Object(f.jsx)("div",{className:U.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},onKeyDown:n,children:Object(f.jsx)("div",{className:U.a.Modal,children:Object(f.jsx)("img",{src:a,alt:a})})})},A=a(32),P=a.n(A),R=function(e){var t=e.handleLoadMore;return Object(f.jsx)("button",{onClick:function(){t()},className:P.a.Button,children:"Load More"})},T=a(14),J=a.n(T),K=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,n,c,o,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"cat",a=l.length>1&&void 0!==l[1]?l[1]:1,J.a.defaults.baseURL="https://pixabay.com/api/",r={per_page:12,orientation:"horizontal",image_type:"photo",key:"23806405-99649229521d5b9443986f071",page:a,q:t},e.prev=4,e.next=7,J()("?",{params:Object(_.a)({},r)});case 7:return n=e.sent,c=n.data.hits,o=n.data.total,e.abrupt("return",{gallery:c,galleryTotal:o});case 13:throw e.prev=13,e.t0=e.catch(4),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(r.useState)(0),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),l=o[0],b=o[1],j=Object(r.useState)(""),p=Object(m.a)(j,2),g=p[0],_=p[1],y=Object(r.useState)(1),x=Object(m.a)(y,2),S=x[0],v=x[1],I=Object(r.useState)(""),w=Object(m.a)(I,2),k=w[0],F=w[1],N=Object(r.useState)(!1),C=Object(m.a)(N,2),G=C[0],B=C[1],E=Object(r.useCallback)((function(e){F(e)}),[]),U=Object(r.useCallback)(Object(i.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,K(g,S);case 4:t=e.sent,a=t.gallery,r=t.galleryTotal,a.length?(n(r),b([].concat(Object(u.a)(l),Object(u.a)(a))),B(!1),1!==S&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})):0===a.length&&(d.a.Notify.warning("No result for your request!"),_(""),v(1),B(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),d.a.Notify.failure(e.t0.message),B(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[g,S]);Object(r.useEffect)((function(){g&&U()}),[g,S,U]);var A=a-l.length;return Object(f.jsxs)("div",{className:h.a.App,children:[Object(f.jsx)(O,{onSubmit:function(e){var t=e.querry;_(t),b([]),v(1)}}),!!l.length&&Object(f.jsx)(L,{gallery:l,handleImgClick:E}),G&&Object(f.jsx)(M,{}),!G&&!!l.length&&!!A&&Object(f.jsx)(R,{handleLoadMore:function(){v(S+1)}}),k&&Object(f.jsx)(q,{imgUrl:k,handleModalClose:function(){F("")}})]})};o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c0700cc7.chunk.js.map