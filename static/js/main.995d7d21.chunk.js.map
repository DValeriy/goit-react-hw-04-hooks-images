{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/api.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","querry","handleChange","value","target","setState","cbOnSubmit","e","preventDefault","onSubmit","props","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","query","PureComponent","ImageGalleryItem","webformatURL","largeImageURL","handleImgClick","console","log","onClick","src","alt","ImageGalleryItemImage","ImageGallery","gallery","elements","map","id","Loader","PreLoader","color","height","width","timeout","Modal","cbOnClick","handleModalClose","currentTarget","cbOnKeyDown","event","code","window","addEventListener","removeEventListener","imgUrl","Overlay","onKeyDown","Button","handleLoadMore","getImgRequest","a","page","axios","defaults","baseURL","searchParams","per_page","orientation","image_type","key","process","q","params","response","data","hits","galleryTotal","total","App","galerySize","galleryImg","isShowModal","isShowLoader","togglePreloader","prev","handleBtnLoadMore","loadImg","length","scrollTo","top","document","documentElement","scrollHeight","behavior","Notiflix","Notify","warning","dir","failure","message","prevProps","prevState","difTotalandGallery","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.995d7d21.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2P4OQ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1v0BW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1hWUU\",\"Modal\":\"Modal_Modal__g8Juh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ndVx\",\"Searchbar\":\"App_Searchbar__1l1s1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jeGcT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PreLoader\":\"Loader_PreLoader__31KGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3jLt4\"};","import s from \"./Searchbar.module.css\";\r\n\r\nimport React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends PureComponent {\r\n  state = {\r\n    querry: \"\",\r\n  };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { value } = target;\r\n    this.setState({ querry: value });\r\n  };\r\n  cbOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.state);\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.cbOnSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, handleImgClick }) => {\r\n  console.log(\"ImageGalleryItem\");\r\n  const cbOnClick = (e) => handleImgClick(largeImageURL);\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={cbOnClick}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ gallery, handleImgClick }) => {\r\n  console.log(\"ImageGallery\");\r\n  const elements = gallery.map(({ id, ...props }) => {\r\n    return (\r\n      <ImageGalleryItem key={id} {...props} handleImgClick={handleImgClick} />\r\n    );\r\n  });\r\n  return <ul className={s.ImageGallery}>{elements}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PreLoader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <PreLoader\r\n      className={s.PreLoader}\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n};\r\nexport default Loader;\r\n","import s from \"./Modal.module.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { PureComponent } from \"react\";\r\n\r\nclass Modal extends PureComponent {\r\n  state = {};\r\n  cbOnClick = (e) => {\r\n    const { handleModalClose } = this.props;\r\n    if (e.currentTarget === e.target) handleModalClose();\r\n  };\r\n  cbOnKeyDown = (event) => {\r\n    const { handleModalClose } = this.props;\r\n    // if (event.keyCode === 27) handleModalClose();\r\n    if (event.code === \"Escape\") handleModalClose();\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.cbOnKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.cbOnKeyDown);\r\n  }\r\n  render() {\r\n    const { imgUrl } = this.props;\r\n    return (\r\n      <div\r\n        className={s.Overlay}\r\n        onClick={this.cbOnClick}\r\n        onKeyDown={this.cbOnKeyDown}\r\n      >\r\n        <div className={s.Modal}>\r\n          <img src={imgUrl} alt={imgUrl} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  imgUrl: PropTypes.string.isRequired,\r\n  handleModalClose: PropTypes.func.isRequired,\r\n};\r\nexport default Modal;\r\n","import s from \"./Button.module.css\";\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ handleLoadMore }) => {\r\n  const cbOnClick = () => {\r\n    handleLoadMore();\r\n  };\r\n  return (\r\n    <button onClick={cbOnClick} className={s.Button}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\nimport Notiflix from \"notiflix\";\r\n\r\nexport const getImgRequest = async (querry = \"cat\", page = 1) => {\r\n  axios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n  const searchParams = {\r\n    per_page: 12,\r\n    orientation: \"horizontal\",\r\n    image_type: \"photo\",\r\n    key: process.env.REACT_APP_API_KEY,\r\n    page: page,\r\n    q: querry,\r\n  };\r\n  try {\r\n    const response = await axios(`?`, { params: { ...searchParams } });\r\n    const gallery = response.data.hits;\r\n    const galleryTotal = response.data.total;\r\n    return { gallery, galleryTotal };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import s from \"./App.module.css\";\n\nimport { Component } from \"react\";\nimport Notiflix from \"notiflix\";\n\nimport Searchbar from \"../Searchbar/\";\nimport ImageGallery from \"../ImageGallery/\";\nimport Loader from \"../Loader\";\nimport Modal from \"../Modal\";\nimport Button from \"../Button\";\nimport { getImgRequest } from \"../../services/api\";\n\nclass App extends Component {\n  state = {\n    galerySize: 0,\n    galleryImg: [],\n    isShowModal: false,\n    isShowLoader: false,\n    querry: \"\",\n    page: 1,\n    imgUrl: \"\",\n  };\n  onSubmit = ({ querry }) => {\n    this.setState({ querry, galleryImg: [], page: 1 });\n  };\n  togglePreloader = () => {\n    this.setState((prev) => ({ isShowLoader: !prev.isShowLoader }));\n  };\n\n  handleBtnLoadMore = () => {\n    this.setState((prev) => ({ page: prev.page + 1 }));\n  };\n  handleImgClick = (largeImageURL) => {\n    this.setState({\n      isShowModal: !this.state.isShowModal,\n      imgUrl: largeImageURL,\n    });\n  };\n  handleModalClose = () => {\n    this.setState({ isShowModal: !this.state.isShowModal });\n  };\n\n  loadImg = async () => {\n    const { querry, page, galleryImg } = this.state;\n\n    this.togglePreloader();\n    try {\n      const { gallery, galleryTotal } = await getImgRequest(querry, page);\n\n      if (gallery && gallery.length) {\n        console.log(\"if\");\n        this.setState((prev) => ({\n          galerySize: galleryTotal,\n          galleryImg: [...prev.galleryImg, ...gallery],\n          isShowLoader: false,\n        }));\n\n        if (page !== 1)\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n      } else if (gallery && gallery.length === 0) {\n        console.log(\"else if\");\n        Notiflix.Notify.warning(\"No result for your request!\");\n        this.setState({ querry: \"\", page: 1, isShowLoader: false });\n      }\n    } catch (error) {\n      console.dir(error);\n      Notiflix.Notify.failure(error.message);\n      this.togglePreloader();\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(\"componentDidUpdate\");\n    const { querry, page } = this.state;\n    if (prevState.querry !== querry || prevState.page !== page) {\n      if (!querry) return;\n      this.loadImg();\n    }\n  }\n\n  render() {\n    const { galleryImg, imgUrl, isShowModal, isShowLoader, galerySize } =\n      this.state;\n    const difTotalandGallery = galerySize - galleryImg.length;\n    console.log(\"render\");\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        {!!galleryImg.length && (\n          <ImageGallery\n            gallery={galleryImg}\n            handleImgClick={this.handleImgClick}\n          />\n        )}\n        {isShowLoader && <Loader />}\n        {!isShowLoader && !!galleryImg.length && difTotalandGallery && (\n          <Button handleLoadMore={this.handleBtnLoadMore} />\n        )}\n        {isShowModal && (\n          <Modal imgUrl={imgUrl} handleModalClose={this.handleModalClose} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/\";\nimport axios from \"axios\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ppc0\",\"SearchForm\":\"Searchbar_SearchForm__UVQrw\",\"SearchFormButton\":\"Searchbar_SearchFormButton__32JVO\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__secKU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2ndiJ\"};"],"sourceRoot":""}