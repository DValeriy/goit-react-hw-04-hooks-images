{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/api.js","components/App/App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","querry","setQuerry","className","s","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","onChange","value","target","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","largeImageURL","handleImgClick","console","log","onClick","src","alt","ImageGalleryItemImage","ImageGallery","gallery","elements","map","id","props","memo","Loader","PreLoader","color","height","width","timeout","Modal","handleModalClose","imgUrl","cbOnKeyDown","event","code","useEffect","window","addEventListener","removeEventListener","Overlay","currentTarget","onKeyDown","Button","handleLoadMore","getImgRequest","a","page","axios","defaults","baseURL","searchParams","per_page","orientation","image_type","key","process","q","params","response","data","hits","galleryTotal","total","App","galerySize","setGalerySize","galleryImg","setGalleryImg","setPage","setImgUrl","isShowLoader","setIsShowLoader","useCallback","loadImg","length","scrollTo","top","document","documentElement","scrollHeight","behavior","Notiflix","Notify","warning","failure","message","difTotalandGallery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0700cc7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__IqgJy\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2rKzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AFek\",\"Modal\":\"Modal_Modal__bSOUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3IyuE\",\"Searchbar\":\"App_Searchbar__2_ooq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tGcm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PreLoader\":\"Loader_PreLoader__3yR_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1P09s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3wn9a\",\"SearchForm\":\"Searchbar_SearchForm__mOCjS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__22ueh\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3KC4y\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sLwb\"};","import s from \"./Searchbar.module.css\";\r\n\r\nimport { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [querry, setQuerry] = useState(\"\");\r\n\r\n  const handleChange = ({ target: { value } }) => {\r\n    setQuerry(value);\r\n  };\r\n  const cbOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit({ querry });\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={cbOnSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={handleChange}\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={querry}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, handleImgClick }) => {\r\n  const cbOnClick = (e) => handleImgClick(largeImageURL);\r\n  console.log(\"webformatURL\");\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={cbOnClick}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { memo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ gallery, handleImgClick }) => {\r\n  const elements = gallery.map(({ id, ...props }) => {\r\n    return (\r\n      <ImageGalleryItem key={id} {...props} handleImgClick={handleImgClick} />\r\n    );\r\n  });\r\n  return <ul className={s.ImageGallery}>{elements}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  handleImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default memo(ImageGallery);\r\n","import PreLoader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <PreLoader\r\n      className={s.PreLoader}\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n};\r\nexport default Loader;\r\n","import s from \"./Modal.module.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Modal = ({ handleModalClose, imgUrl }) => {\r\n  const cbOnClick = (e) => {\r\n    if (e.currentTarget === e.target) handleModalClose();\r\n  };\r\n\r\n  const cbOnKeyDown = (event) => {\r\n    if (event.code === \"Escape\") handleModalClose();\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", cbOnKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", cbOnKeyDown);\r\n    };\r\n  }, [cbOnKeyDown]);\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={cbOnClick} onKeyDown={cbOnKeyDown}>\r\n      <div className={s.Modal}>\r\n        <img src={imgUrl} alt={imgUrl} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  imgUrl: PropTypes.string.isRequired,\r\n  handleModalClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import s from \"./Button.module.css\";\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ handleLoadMore }) => {\r\n  const cbOnClick = () => {\r\n    handleLoadMore();\r\n  };\r\n  return (\r\n    <button onClick={cbOnClick} className={s.Button}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\nimport Notiflix from \"notiflix\";\r\n\r\nexport const getImgRequest = async (querry = \"cat\", page = 1) => {\r\n  axios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n  const searchParams = {\r\n    per_page: 12,\r\n    orientation: \"horizontal\",\r\n    image_type: \"photo\",\r\n    key: process.env.REACT_APP_API_KEY,\r\n    page: page,\r\n    q: querry,\r\n  };\r\n  try {\r\n    const response = await axios(`?`, { params: { ...searchParams } });\r\n    const gallery = response.data.hits;\r\n    const galleryTotal = response.data.total;\r\n    return { gallery, galleryTotal };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import s from \"./App.module.css\";\r\n\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport Notiflix from \"notiflix\";\r\n\r\nimport Searchbar from \"../Searchbar/\";\r\nimport ImageGallery from \"../ImageGallery/\";\r\nimport Loader from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\nimport Button from \"../Button\";\r\nimport { getImgRequest } from \"../../services/api\";\r\n\r\nconst App = () => {\r\n  const [galerySize, setGalerySize] = useState(0);\r\n  const [galleryImg, setGalleryImg] = useState([]);\r\n  const [querry, setQuerry] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [imgUrl, setImgUrl] = useState(\"\");\r\n  const [isShowLoader, setIsShowLoader] = useState(false);\r\n  const onSubmit = ({ querry }) => {\r\n    setQuerry(querry);\r\n    setGalleryImg([]);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleBtnLoadMore = () => {\r\n    setPage(page + 1);\r\n  };\r\n  const handleImgClick = useCallback((largeImageURL) => {\r\n    setImgUrl(largeImageURL);\r\n  }, []);\r\n  const handleModalClose = () => {\r\n    setImgUrl(\"\");\r\n  };\r\n\r\n  const loadImg = useCallback(async () => {\r\n    setIsShowLoader(true);\r\n    try {\r\n      const { gallery, galleryTotal } = await getImgRequest(querry, page);\r\n\r\n      if (gallery.length) {\r\n        setGalerySize(galleryTotal);\r\n        setGalleryImg([...galleryImg, ...gallery]);\r\n        setIsShowLoader(false);\r\n        if (page !== 1)\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          });\r\n      } else if (gallery.length === 0) {\r\n        Notiflix.Notify.warning(\"No result for your request!\");\r\n        setQuerry(\"\");\r\n        setPage(1);\r\n        setIsShowLoader(false);\r\n      }\r\n    } catch (error) {\r\n      // console.dir(error);\r\n      Notiflix.Notify.failure(error.message);\r\n      setIsShowLoader(false);\r\n    }\r\n  }, [querry, page]);\r\n  useEffect(() => {\r\n    if (!querry) return;\r\n    loadImg();\r\n  }, [querry, page, loadImg]);\r\n\r\n  const difTotalandGallery = galerySize - galleryImg.length;\r\n  return (\r\n    <div className={s.App}>\r\n      <Searchbar onSubmit={onSubmit} />\r\n      {!!galleryImg.length && (\r\n        <ImageGallery gallery={galleryImg} handleImgClick={handleImgClick} />\r\n      )}\r\n      {isShowLoader && <Loader />}\r\n      {!isShowLoader && !!galleryImg.length && !!difTotalandGallery && (\r\n        <Button handleLoadMore={handleBtnLoadMore} />\r\n      )}\r\n      {imgUrl && <Modal imgUrl={imgUrl} handleModalClose={handleModalClose} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/\";\r\nimport axios from \"axios\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}